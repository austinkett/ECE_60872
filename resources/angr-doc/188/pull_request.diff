diff --git a/docs/simprocedures.md b/docs/simprocedures.md
index b68bad6..a10ba9d 100644
--- a/docs/simprocedures.md
+++ b/docs/simprocedures.md
@@ -213,12 +213,8 @@ For instance, to replace `rand()` with a function that always returns a consiste
 ```python
 >>> class NotVeryRand(SimProcedure):
 ...     def run(self, return_values=None):
-...         if 'rand_idx' in self.state.globals:
-...             rand_idx = self.state.globals['rand_idx']
-...         else:
-...             rand_idx = 0
-... 
-...         out = return_values[rand_idx % len(return_values)]
+...         rand_idx = self.state.globals.get('rand_idx', 0) % len(return_values)
+...         out = return_values[rand_idx]
 ...         self.state.globals['rand_idx'] = rand_idx + 1
 ...         return out
 
