diff --git a/libraries/AP_HAL_Linux/Storage.h b/libraries/AP_HAL_Linux/Storage.h
index f89c34815af9..34e875751db8 100644
--- a/libraries/AP_HAL_Linux/Storage.h
+++ b/libraries/AP_HAL_Linux/Storage.h
@@ -10,7 +10,7 @@
 #include <AP_HAL.h>
 #include "AP_HAL_Linux_Namespace.h"
 
-#define LINUX_STORAGE_SIZE 4096
+#define LINUX_STORAGE_SIZE HAL_STORAGE_SIZE
 #define LINUX_STORAGE_MAX_WRITE 512
 #define LINUX_STORAGE_LINE_SHIFT 9
 #define LINUX_STORAGE_LINE_SIZE (1<<LINUX_STORAGE_LINE_SHIFT)
